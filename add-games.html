<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Games - Voice of Snehal</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.body.insertAdjacentHTML('afterbegin', data);
            });
    });
</script>
</head>
<body>
<!-- Bootstrap Offcanvas Sidebar -->
<nav class="navbar navbar-expand-lg bg-transparent fixed-top">
  <div class="container-fluid">
    <button class="btn btn-lg text-white" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
      <i class="fa fa-bars"></i>
    </button>
    <span class="navbar-brand ms-2 fw-bold" style="color:#ffd700;">Snehal's Birthday</span>
  </div>
</nav>
<div class="offcanvas offcanvas-start" tabindex="-1" id="sidebar" aria-labelledby="sidebarLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="sidebarLabel"><i class="fa fa-birthday-cake"></i> Menu</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <nav class="nav flex-column">
      <a class="nav-link" href="index.html"><i class="fa fa-home"></i> Home</a>
      <a class="nav-link" href="wishes.html"><i class="fa fa-heart"></i> Wishes</a>
      <a class="nav-link" href="fun-corner.html"><i class="fa fa-gamepad"></i> Fun Corner</a>
      <a class="nav-link" href="add-games.html"><i class="fa fa-plus"></i> Add Games</a>
    </nav>
  </div>
</div>
<!-- Header will be loaded dynamically -->
<main>
    <section class="content fancy-section">
        <h2><i class="fa-solid fa-plus"></i> Add Birthday Quiz Question</h2>
        <form id="add-quiz-form" class="game-form">
            <input type="text" id="add-quiz-q" class="memory-input" placeholder="Enter your quiz question..." required>
            <input type="text" id="add-quiz-a" class="memory-input" placeholder="Enter the answer..." required>
            <button type="submit" class="btn">Add Quiz Question</button>
        </form>
        <div id="quiz-success" class="success-msg"></div>
    </section>
    <section class="content fancy-section">
        <h2><i class="fa-solid fa-plus"></i> Add Guess the Memory Puzzle</h2>
        <form id="add-puzzle-form" class="game-form">
            <input type="text" id="add-puzzle-story" class="memory-input" placeholder="Enter the story or prompt..." required>
            <input type="text" id="add-puzzle-answer" class="memory-input" placeholder="Enter the answer..." required>
            <button type="submit" class="btn">Add Memory Puzzle</button>
        </form>
        <div id="puzzle-success" class="success-msg"></div>
    </section>
</main>
<script src="script.js"></script>
<script>
// Add Quiz Question
const quizForm = document.getElementById('add-quiz-form');
const quizSuccess = document.getElementById('quiz-success');
quizForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const q = document.getElementById('add-quiz-q').value.trim();
    const a = document.getElementById('add-quiz-a').value.trim();
    if (q && a) {
        await fetch('/.netlify/functions/quiz', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ q, a })
        });
        quizSuccess.textContent = 'Quiz question added!';
        quizForm.reset();
        setTimeout(() => quizSuccess.textContent = '', 2000);
    }
});
// Add Memory Puzzle
const puzzleForm = document.getElementById('add-puzzle-form');
const puzzleSuccess = document.getElementById('puzzle-success');
puzzleForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const story = document.getElementById('add-puzzle-story').value.trim();
    const answer = document.getElementById('add-puzzle-answer').value.trim();
    if (story && answer) {
        await fetch('/.netlify/functions/memorypuzzles', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ story, answer })
        });
        puzzleSuccess.textContent = 'Memory puzzle added!';
        puzzleForm.reset();
        setTimeout(() => puzzleSuccess.textContent = '', 2000);
    }
});
</script>
</body>
</html>
